{
  "index_patterns": ["fraud-alerts-*"],
  "priority": 999,
  "template": {
    "settings": {
      "index.number_of_shards": 1,
      "index.number_of_replicas": 0
    },
    "mappings": {
      "dynamic": false,
      "properties": {
        "alertId":   { "type": "keyword" },
        "eventId":   { "type": "keyword" },
        "accountId": { "type": "keyword" },
        "cardId":    { "type": "keyword" },

        "createdAt": { "type": "date" },
        "eventTime": { "type": "date" },
        "scoredAt":  { "type": "date" },

        "amount":   { "type": "double" },
        "currency": { "type": "keyword", "ignore_above": 32 },

        "fraudScore":      { "type": "double" },
        "fraudPrediction": { "type": "boolean" },

        "detectionMethod": { "type": "keyword" },
        "severity":        { "type": "keyword" },

        "modelVersion": { "type": "keyword", "ignore_above": 256 },
        "inferenceMs":  { "type": "double" },

        "reasons": { "type": "keyword" },

        "features":             { "type": "object", "enabled": false },
        "featureContributions": { "type": "object", "enabled": false }
      }
    }
  }
}
